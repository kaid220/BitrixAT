import java.lang.reflect.Method
import java.sql.Connection
import java.sql.Driver
import java.sql.DriverManager
import java.sql.SQLException
import java.sql.Statement


/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * To learn more about Gradle by exploring our Samples at https://docs.gradle.org/8.5/samples
 */
plugins {
    // Apply the groovy Plugin to add support for Groovy.
    id 'groovy'

    // Apply the application plugin to add support for building a CLI application in Java.
    id 'idea'
}

compileJava.options.encoding = 'UTF-8'
compileTestJava.options.encoding = 'UTF-8'
compileGroovy.options.encoding ='UTF-8'
compileTestGroovy.options.encoding='UTF-8'
repositories {
    // Use Maven Central for resolving dependencies.
    mavenCentral()
}

dependencies {
    // Use the latest Groovy version for building this library
    implementation 'org.apache.groovy:groovy:4.0.0'


    // Use the awesome Spock testing and specification framework even with Java
    implementation 'org.spockframework:spock-junit4:2.4-M1-groovy-4.0'
    // use selenium
    implementation 'org.seleniumhq.selenium:selenium-java:4.16.1'
    //use GEB
    implementation 'org.gebish:geb-spock:7.0'
    //use logger
    implementation 'org.apache.logging.log4j:log4j-api:2.17.1'
    implementation 'org.apache.logging.log4j:log4j-core:2.17.1'

    //use mySqlConnector
    implementation 'mysql:mysql-connector-java:8.0.11'
    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'
    //testImplementation 'io.qameta.allure:allure-spock:2.16.0'
}
tasks.withType(GroovyCompile){
    options.encoding="UTF-8"
}
tasks.withType(JavaCompile){
    options.encoding="UTF-8"
}
test{ useJUnitPlatform()
   maxParallelForks = 2
systemProperty('file.encoding','UTF-8')
}





